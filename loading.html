<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="css/minimal.css">
    <script src="js/jquery.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/minimal.js"></script>
</head>
<body>

<div id='infobox'>
    <img style="vertical-align:middle;margin:2px;padding-bottom:1px;" src="images/loading.gif" />
    <span id='infoboxtxt'></span>
</div>

<style type="text/css">
body {
    overflow:hidden;
    margin:0;
    padding:0;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
    background: url(images/mainmenu_loading_01.jpg) no-repeat center center fixed;
    background-size: cover; 
}

#infobox {
    position: absolute;
    bottom: 0px;
    left: 0px;
    z-index: -1;
    padding: 5px;
    margin:5px;
    background-color: rgba(255,255,255,0.6);
    box-shadow: 0px 0px 20px rgba(255,255,255,0.6);
    border-radius: 6px;
    font-size:0.8em;
    font-family:verdana;
}
</style>

<script type="text/javascript">

function pad(num, size) {
    var s = num+"";
    while (s.length < size) s = "0" + s;
    return s;
}

function getRandomInt(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

var img = 'images/mainmenu_loading_' + pad(getRandomInt(1,16), 2) + '.jpg';
$('body').css({'background-image': 'url('+img+')'});

var oldStatus = '';
// this function is called by T3D, do not change
function updateProgress(val, txt) {
    //console.log('updateProgress(' + val + ', ' + txt);
    //var t = '';
    var t = '';
    if(val > 0.01) {
        t += Math.round(val*100) + '%';
    }
    if(txt == '' && oldStatus != '') {
        txt = oldStatus;
    }
    oldStatus = txt;
    if(txt != '') {
         if(t != '')
            t += ' - ';
         t += txt;
    }
    $('#infoboxtxt').html(t);
}

$(document).ready(function() {
    updateProgress(0, "loading");
});
</script>
</body>
</html>
